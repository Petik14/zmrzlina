<!DOCTYPE html>
<html lang="cs">

<head>
  <meta charset="UTF-8">
  <title>Evidence zmrzlin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore-compat.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <nav>
      <a href="index.html">PÅ™ehled</a>
      <a href="firma.html">Firmy</a>
      <a href="ostatni.html">OstatnÃ­</a>
    </nav>
  </header>

  <main class="container">
    <button onclick="firebase.auth().signOut()">OdhlÃ¡sit</button>

    <h1>PÅ™idat poloÅ¾ku</h1>

    <form id="trzbaForm">
      <label for="typOdb">Typ odbÄ›ratele:</label>
      <select id="typOdb">
        <option value="companies">Firma</option>
        <option value="others">JinÃ½ odbÄ›ratel</option>
      </select>

      <label for="firma">OdbÄ›ratel:</label>
      <select id="firma"></select><br>

      <label for="datum">Datum:</label>
      <input type="date" id="datum">

      <label for="castka">ÄŒÃ¡stka:</label>
      <input type="number" id="castka" min="1">

      <input type="hidden" id="editId">

      <h2>Zmrzliny</h2>
      <div id="zmrzlinyContainer"></div>
      <button type="button" class="btn-blue" onclick="pridejZmrzlinu()">â• PÅ™idat zmrzlinu</button>

      <button type="submit" id="odeslaniTlacitko" class="btn-dark">ğŸ’¾</button>
    </form>

    <div id="souhrnTrzby"></div>

    <div class="statistiky">
      <a href="statistiky.html" class="btn-lightblue">Zobrazit statistiky</a>
      <button class="btn-lightblue" style="cursor: pointer;" onclick="zalohaDatabaze()">ğŸ“¦ StÃ¡hnout zÃ¡lohu</button>
    </div>


    <div class="legenda">
      <strong>Legenda:</strong>
      <span class="firma-badge">Firmy</span>
      <span class="ostatni-badge">OstatnÃ­</span>
      <label for="rokSelect"><b>Rok:</b></label>
      <select id="rokSelect"></select>
    </div>
     
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>OdbÄ›ratel</th>
          <th>Datum</th>
          <th>ÄŒÃ¡stka</th>
          <th>Akce</th>
        </tr>
      </thead>
      <tbody id="trzbyBody"></tbody>
    </table>

    <dialog id="trzbaDialog">
      <p id="obsahDialogu"></p>
      <button onclick="document.getElementById('trzbaDialog').close()">ZavÅ™Ã­t</button>
    </dialog>
  </main>

  <script src="script.js"></script>
  <script src="druhy.js"></script>
  <script src="zaloha.js"></script>

  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-auth-compat.js"></script>
  <script>
    firebase.auth().onAuthStateChanged(user => {
      if (!user) {
        alert("PÅ™Ã­stup pouze pro pÅ™ihlÃ¡Å¡enÃ©.");
        window.location.href = "login.html";
      }
    });
  </script>


</body>

</html>